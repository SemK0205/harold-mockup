(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9658,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let n="BlueWave Shipping Co.",o="StarLine Maritime",r="Oceanic Transport Ltd.",s="Pacifica Carriers",i="Golden Horizon Lines",l="Neptune Logistics",u="Atlas Ocean Corp",_="Horizon Marine",d="Crystal Seas Trading",c="Voyager Shipping",m="SunPetro Energy",g="SeaFuel Korea",p="MarineOil Corp",S="BlueFuel Trading",O="OceanGas Supply",w="Asia Energy Partners",f="Pacific Oil Trading",y="BLUE PIONEER",I="GOLDEN WAVE",k="VOYAGER SPIRIT",D="J. Park",M="S. Kim",T="M. Lee",q="H. Chen",v="T. Wong",h="Manager Choi",$="Director Yoon",E="Team Lead Han",b="Supervisor Lim",A=new Date("2025-12-04T12:00:00Z").getTime(),F=[{id:1,session_id:"mock-001",customer_room_name:n,vessel_name:y,imo:"9811000",port:"Busan",fuel_type:"VLSFO",quantity:"500MT",fuel_type2:null,quantity2:null,delivery_date:"2025-12-10",status:"active",stage:"inquiry",created_at:new Date(A-18e5).toISOString(),updated_at:new Date(A-3e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:0,negotiation_rounds:0,duration_minutes:30,response_time_minutes:null,quote_count:0,last_quote_time:null,requested_traders:[],seller_contexts:{},unread_count:2,buyer_unread_count:2,seller_unread_count:0},{id:2,session_id:"mock-002",customer_room_name:o,vessel_name:"STAR EXCELLENCE",imo:"9812345",port:"Singapore",fuel_type:"MGO",quantity:"200MT",fuel_type2:null,quantity2:null,delivery_date:"2025-12-12",status:"active",stage:"inquiry",created_at:new Date(A-9e5).toISOString(),updated_at:new Date(A-12e4).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:0,negotiation_rounds:0,duration_minutes:15,response_time_minutes:null,quote_count:0,last_quote_time:null,requested_traders:[],seller_contexts:{},unread_count:1,buyer_unread_count:1,seller_unread_count:0},{id:3,session_id:"mock-003",customer_room_name:r,vessel_name:"OCEANIC DREAM",imo:"9778791",port:"Singapore",fuel_type:"VLSFO",quantity:"1000MT",fuel_type2:"MGO",quantity2:"100MT",delivery_date:"2025-12-12",status:"active",stage:"deal_started",created_at:new Date(A-72e5).toISOString(),updated_at:new Date(A-18e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:0,negotiation_rounds:0,duration_minutes:120,response_time_minutes:null,quote_count:0,last_quote_time:null,requested_traders:[m,g,p],seller_contexts:{[m]:{status:"waiting_quote",quote:null,requested_at:new Date(A-18e5).toISOString(),contacted_at:new Date(A-18e5).toISOString()},[g]:{status:"waiting_quote",quote:null,requested_at:new Date(A-18e5).toISOString(),contacted_at:new Date(A-18e5).toISOString()},[p]:{status:"waiting_quote",quote:null,requested_at:new Date(A-18e5).toISOString(),contacted_at:new Date(A-18e5).toISOString()}},unread_count:0,buyer_unread_count:0,seller_unread_count:0},{id:4,session_id:"mock-004",customer_room_name:s,vessel_name:"PACIFIC FORTUNE",imo:"9454436",port:"Ulsan",fuel_type:"HSFO",quantity:"800MT",fuel_type2:null,quantity2:null,delivery_date:"2025-12-15",status:"active",stage:"deal_started",created_at:new Date(A-36e5).toISOString(),updated_at:new Date(A-12e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:0,negotiation_rounds:0,duration_minutes:60,response_time_minutes:null,quote_count:0,last_quote_time:null,requested_traders:[S,m],seller_contexts:{[S]:{status:"quote_received",quote:{fuel1_price:"$582/MT",barge_fee:"$800",term:"30 days",supplier:S,fuel1_margin:"$8/MT"},earliest:"2025-12-08",received_at:new Date(A-21e5).toISOString(),contacted_at:new Date(A-36e5).toISOString()},[m]:{status:"quote_received",quote:{fuel1_price:"$720/MT",barge_fee:"$1200",term:"30 days",supplier:m,fuel1_margin:"$10/MT"},earliest:"2025-12-08",received_at:new Date(A-108e5).toISOString(),contacted_at:new Date(A-36e5).toISOString()}},unread_count:0,buyer_unread_count:0,seller_unread_count:0},{id:5,session_id:"mock-005",customer_room_name:i,vessel_name:I,imo:"9704657",port:"Busan",fuel_type:"VLSFO",quantity:"600MT",fuel_type2:"MGO",quantity2:"50MT",delivery_date:"2025-12-08",status:"active",stage:"quote_collecting",created_at:new Date(A-144e5).toISOString(),updated_at:new Date(A-6e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:2,negotiation_rounds:0,duration_minutes:240,response_time_minutes:45,quote_count:2,last_quote_time:new Date(A-6e5).toISOString(),requested_traders:[m,g,p],seller_contexts:{[m]:{status:"quote_received",quote:{fuel1_price:"$582/MT",fuel2_price:"$720/MT",barge_fee:"$800",term:"30 days",supplier:m,fuel1_margin:"$8/MT",fuel2_margin:"$12/MT"},earliest:"2025-12-08",received_at:new Date(A-36e5).toISOString(),contacted_at:new Date(A-108e5).toISOString()},[g]:{status:"quote_received",quote:{fuel1_price:"$578/MT",fuel2_price:"$715/MT",barge_fee:"$500",term:"30 days",supplier:g,fuel1_margin:"$12/MT",fuel2_margin:"$17/MT"},earliest:"2025-12-09",received_at:new Date(A-6e5).toISOString(),contacted_at:new Date(A-108e5).toISOString()},[p]:{status:"waiting_quote",quote:null,requested_at:new Date(A-108e5).toISOString(),contacted_at:new Date(A-108e5).toISOString()}},unread_count:3,buyer_unread_count:0,seller_unread_count:3},{id:6,session_id:"mock-006",customer_room_name:l,vessel_name:"NEPTUNE GLORY",imo:"9501368",port:"Singapore",fuel_type:"VLSFO",quantity:"1200MT",fuel_type2:null,quantity2:null,delivery_date:"2025-12-11",status:"active",stage:"quote_collecting",created_at:new Date(A-18e6).toISOString(),updated_at:new Date(A-18e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:3,negotiation_rounds:0,duration_minutes:300,response_time_minutes:35,quote_count:3,last_quote_time:new Date(A-18e5).toISOString(),requested_traders:[w,f,O],seller_contexts:{[w]:{status:"quote_received",quote:{fuel1_price:"$565/MT",barge_fee:"$1200",term:"15 days",supplier:w,fuel1_margin:"$15/MT"},earliest:"2025-12-11",received_at:new Date(A-72e5).toISOString(),contacted_at:new Date(A-144e5).toISOString()},[f]:{status:"quote_received",quote:{fuel1_price:"$568/MT",barge_fee:"$900",term:"15 days",supplier:f,fuel1_margin:"$12/MT"},earliest:"2025-12-11",received_at:new Date(A-36e5).toISOString(),contacted_at:new Date(A-144e5).toISOString()},[O]:{status:"quote_received",quote:{fuel1_price:"$572/MT",barge_fee:"$700",term:"30 days",supplier:O,fuel1_margin:"$8/MT"},earliest:"2025-12-10",received_at:new Date(A-18e5).toISOString(),contacted_at:new Date(A-144e5).toISOString()}},unread_count:1,buyer_unread_count:0,seller_unread_count:1},{id:7,session_id:"mock-007",customer_room_name:u,vessel_name:"ATLAS VICTORY",imo:"9703318",port:"Yeosu",fuel_type:"VLSFO",quantity:"900MT",fuel_type2:"LSMGO",quantity2:"80MT",delivery_date:"2025-12-09",status:"active",stage:"quote_collecting",created_at:new Date(A-108e5).toISOString(),updated_at:new Date(A-27e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:1,negotiation_rounds:0,duration_minutes:180,response_time_minutes:50,quote_count:1,last_quote_time:new Date(A-27e5).toISOString(),requested_traders:[m,S],seller_contexts:{[m]:{status:"quote_received",quote:{fuel1_price:"$580/MT",fuel2_price:"$730/MT",barge_fee:"$600",term:"30 days",supplier:m,fuel1_margin:"$10/MT",fuel2_margin:"$15/MT"},earliest:"2025-12-09",received_at:new Date(A-27e5).toISOString(),contacted_at:new Date(A-9e6).toISOString()},[S]:{status:"waiting_quote",quote:null,requested_at:new Date(A-9e6).toISOString(),contacted_at:new Date(A-9e6).toISOString()}},unread_count:2,buyer_unread_count:1,seller_unread_count:1},{id:8,session_id:"mock-008",customer_room_name:_,vessel_name:"HORIZON STAR",imo:"9516428",port:"Busan",fuel_type:"VLSFO",quantity:"700MT",fuel_type2:null,quantity2:null,delivery_date:"2025-12-07",status:"quoted",stage:"customer_feedback",created_at:new Date(A-288e5).toISOString(),updated_at:new Date(A-36e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:3,negotiation_rounds:0,duration_minutes:480,response_time_minutes:40,quote_count:3,last_quote_time:new Date(A-108e5).toISOString(),requested_traders:[m,g,p],seller_contexts:{[m]:{status:"quote_received",quote:{fuel1_price:"$575/MT",barge_fee:"$650",term:"30 days",supplier:m,fuel1_margin:"$10/MT"},earliest:"2025-12-07",received_at:new Date(A-18e6).toISOString(),contacted_at:new Date(A-252e5).toISOString()},[g]:{status:"quote_received",quote:{fuel1_price:"$572/MT",barge_fee:"$750",term:"30 days",supplier:g,fuel1_margin:"$13/MT"},earliest:"2025-12-07",received_at:new Date(A-144e5).toISOString(),contacted_at:new Date(A-252e5).toISOString()},[p]:{status:"quote_received",quote:{fuel1_price:"$577/MT",barge_fee:"$550",term:"30 days",supplier:p,fuel1_margin:"$8/MT"},earliest:"2025-12-08",received_at:new Date(A-108e5).toISOString(),contacted_at:new Date(A-252e5).toISOString()}},unread_count:0,buyer_unread_count:0,seller_unread_count:0},{id:9,session_id:"mock-009",customer_room_name:d,vessel_name:"CRYSTAL QUEEN",imo:"9806079",port:"Singapore",fuel_type:"VLSFO",quantity:"1500MT",fuel_type2:"MGO",quantity2:"150MT",delivery_date:"2025-12-14",status:"quoted",stage:"customer_feedback",created_at:new Date(A-36e6).toISOString(),updated_at:new Date(A-72e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:2,negotiation_rounds:0,duration_minutes:600,response_time_minutes:55,quote_count:2,last_quote_time:new Date(A-144e5).toISOString(),requested_traders:[w,O],seller_contexts:{[w]:{status:"quote_received",quote:{fuel1_price:"$560/MT",fuel2_price:"$705/MT",barge_fee:"$1500",term:"15 days",supplier:w,fuel1_margin:"$20/MT",fuel2_margin:"$27/MT"},earliest:"2025-12-14",received_at:new Date(A-216e5).toISOString(),contacted_at:new Date(A-324e5).toISOString()},[O]:{status:"quote_received",quote:{fuel1_price:"$567/MT",fuel2_price:"$712/MT",barge_fee:"$1100",term:"30 days",supplier:O,fuel1_margin:"$13/MT",fuel2_margin:"$20/MT"},earliest:"2025-12-13",received_at:new Date(A-144e5).toISOString(),contacted_at:new Date(A-324e5).toISOString()}},unread_count:1,buyer_unread_count:1,seller_unread_count:0},{id:10,session_id:"mock-010",customer_room_name:c,vessel_name:k,imo:"9863297",port:"Busan",fuel_type:"VLSFO",quantity:"1100MT",fuel_type2:null,quantity2:null,delivery_date:"2025-12-06",status:"negotiating",stage:"renegotiating",created_at:new Date(A-432e5).toISOString(),updated_at:new Date(A-18e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:3,negotiation_rounds:2,duration_minutes:720,response_time_minutes:35,quote_count:3,last_quote_time:new Date(A-72e5).toISOString(),requested_traders:[m,g,p],seller_contexts:{[m]:{status:"renegotiating",quote:{fuel1_price:"$570/MT",barge_fee:"$700",term:"30 days",supplier:m,fuel1_margin:"$10/MT"},earliest:"2025-12-06",received_at:new Date(A-18e5).toISOString(),contacted_at:new Date(A-396e5).toISOString()},[g]:{status:"quote_received",quote:{fuel1_price:"$568/MT",barge_fee:"$750",term:"30 days",supplier:g,fuel1_margin:"$12/MT"},earliest:"2025-12-06",received_at:new Date(A-72e5).toISOString(),contacted_at:new Date(A-396e5).toISOString()},[p]:{status:"no_offer",quote:null,no_offer_reason:"Out of stock",contacted_at:new Date(A-396e5).toISOString()}},unread_count:2,buyer_unread_count:1,seller_unread_count:1},{id:11,session_id:"mock-011",customer_room_name:n,vessel_name:"BLUE HORIZON",imo:"9674671",port:"Ulsan",fuel_type:"HSFO",quantity:"500MT",fuel_type2:"LSMGO",quantity2:"40MT",delivery_date:"2025-12-05",status:"negotiating",stage:"seller_feedback",created_at:new Date(A-54e6).toISOString(),updated_at:new Date(A-36e5).toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:2,negotiation_rounds:1,duration_minutes:900,response_time_minutes:42,quote_count:2,last_quote_time:new Date(A-108e5).toISOString(),requested_traders:[S,m],seller_contexts:{[S]:{status:"renegotiating",quote:{fuel1_price:"$485/MT",fuel2_price:"$725/MT",barge_fee:"$450",term:"30 days",supplier:S,fuel1_margin:"$15/MT",fuel2_margin:"$18/MT"},earliest:"2025-12-05",received_at:new Date(A-36e5).toISOString(),contacted_at:new Date(A-504e5).toISOString()},[m]:{status:"quote_received",quote:{fuel1_price:"$490/MT",fuel2_price:"$730/MT",barge_fee:"$10,500",term:"30 days",supplier:m,fuel1_margin:"$10/MT",fuel2_margin:"$13/MT"},earliest:"2025-12-05",received_at:new Date(A-144e5).toISOString(),contacted_at:new Date(A-504e5).toISOString()}},unread_count:1,buyer_unread_count:0,seller_unread_count:1},{id:12,session_id:"mock-012",customer_room_name:o,vessel_name:"STAR NAVIGATOR",imo:"9690551",port:"Busan",fuel_type:"VLSFO",quantity:"800MT",fuel_type2:null,quantity2:null,delivery_date:"2025-12-03",status:"closed_success",stage:"deal_done",created_at:new Date(A-864e5).toISOString(),updated_at:new Date(A-216e5).toISOString(),closed_at:new Date(A-216e5).toISOString(),final_price:571,selected_trader:g,closing_reason:"Best price and earliest delivery",total_quotes_received:3,negotiation_rounds:1,duration_minutes:1080,response_time_minutes:38,quote_count:3,last_quote_time:new Date(A-288e5).toISOString(),requested_traders:[m,g,p],seller_contexts:{[g]:{status:"quote_received",quote:{fuel1_price:"$571/MT",barge_fee:"$650",term:"30 days",supplier:g,fuel1_margin:"$14/MT"},earliest:"2025-12-03",contacted_at:new Date(A-792e5).toISOString()}},unread_count:0,buyer_unread_count:0,seller_unread_count:0},{id:13,session_id:"mock-013",customer_room_name:r,vessel_name:"OCEANIC STAR",imo:"9448031",port:"Singapore",fuel_type:"VLSFO",quantity:"650MT",fuel_type2:"MGO",quantity2:"60MT",delivery_date:"2025-12-02",status:"closed_success",stage:"deal_done",created_at:new Date(A-1296e5).toISOString(),updated_at:new Date(A-432e5).toISOString(),closed_at:new Date(A-432e5).toISOString(),final_price:562,selected_trader:w,closing_reason:"Competitive price with good terms",total_quotes_received:2,negotiation_rounds:2,duration_minutes:1440,response_time_minutes:45,quote_count:2,last_quote_time:new Date(A-648e5).toISOString(),requested_traders:[w,O],seller_contexts:{[w]:{status:"quote_received",quote:{fuel1_price:"$562/MT",fuel2_price:"$708/MT",barge_fee:"$1300",term:"15 days",supplier:w,fuel1_margin:"$18/MT",fuel2_margin:"$24/MT"},earliest:"2025-12-02",contacted_at:new Date(A-1224e5).toISOString()}},unread_count:0,buyer_unread_count:0,seller_unread_count:0},{id:14,session_id:"mock-014",customer_room_name:i,vessel_name:"GOLDEN SUNRISE",imo:"9893890",port:"Yeosu",fuel_type:"VLSFO",quantity:"1000MT",fuel_type2:null,quantity2:null,delivery_date:"2025-12-01",status:"closed_success",stage:"deal_done",created_at:new Date(A-1728e5).toISOString(),updated_at:new Date(A-72e6).toISOString(),closed_at:new Date(A-72e6).toISOString(),final_price:575,selected_trader:m,closing_reason:"Long-term relationship",total_quotes_received:2,negotiation_rounds:0,duration_minutes:1680,response_time_minutes:32,quote_count:2,last_quote_time:new Date(A-864e5).toISOString(),requested_traders:[m,S],seller_contexts:{[m]:{status:"quote_received",quote:{fuel1_price:"$575/MT",barge_fee:"$600",term:"30 days",supplier:m,fuel1_margin:"$10/MT"},earliest:"2025-12-01",contacted_at:new Date(A-1656e5).toISOString()}},unread_count:0,buyer_unread_count:0,seller_unread_count:0},{id:15,session_id:"mock-015",customer_room_name:l,vessel_name:"NEPTUNE CHALLENGER",imo:"9608265",port:"Busan",fuel_type:"VLSFO",quantity:"400MT",fuel_type2:null,quantity2:null,delivery_date:"2025-12-04",status:"closed_lost",stage:"lost",created_at:new Date(A-108e6).toISOString(),updated_at:new Date(A-36e6).toISOString(),closed_at:new Date(A-36e6).toISOString(),final_price:null,selected_trader:null,closing_reason:"Customer chose competitor",total_quotes_received:2,negotiation_rounds:1,duration_minutes:1200,response_time_minutes:55,quote_count:2,last_quote_time:new Date(A-54e6).toISOString(),requested_traders:[m,g],seller_contexts:{},unread_count:0,buyer_unread_count:0,seller_unread_count:0}],L=[{room_name:n,platform:"com.kakao.talk",category:"buy"},{room_name:o,platform:"com.kakao.talk",category:"buy"},{room_name:r,platform:"com.whatsapp",category:"buy"},{room_name:s,platform:"com.whatsapp",category:"buy"},{room_name:i,platform:"com.kakao.talk",category:"buy"},{room_name:l,platform:"com.whatsapp",category:"buy"},{room_name:u,platform:"com.whatsapp",category:"buy"},{room_name:_,platform:"com.wechat",category:"buy"},{room_name:d,platform:"com.kakao.talk",category:"buy"},{room_name:c,platform:"com.kakao.talk",category:"buy"},{room_name:m,platform:"com.kakao.yellowid",category:"sell"},{room_name:g,platform:"com.kakao.yellowid",category:"sell"},{room_name:p,platform:"com.kakao.yellowid",category:"sell"},{room_name:S,platform:"com.kakao.yellowid",category:"sell"},{room_name:w,platform:"com.wechat",category:"sell"},{room_name:O,platform:"com.whatsapp",category:"sell"},{room_name:f,platform:"com.wechat",category:"sell"},{room_name:"Harold Team",platform:"com.kakao.talk",category:"other"}],C={[n]:[{message_id:1001,room_name:n,sender:D,message:"Hello, we need bunker fuel for BLUE PIONEER.",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-18e5).toISOString(),created_at:new Date(A-18e5).toISOString()},{message_id:1002,room_name:n,sender:D,message:"VLSFO 500MT needed at Busan port.\nETA: December 10th.",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-168e4).toISOString(),created_at:new Date(A-168e4).toISOString()},{message_id:1003,room_name:n,sender:"Harold AI",message:"Thank you for your inquiry. We have received your request and will provide you with competitive quotes shortly.",package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date(A-15e5).toISOString(),created_at:new Date(A-15e5).toISOString()},{message_id:1004,room_name:n,sender:D,message:"IMO number is 9811000. Thanks.",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-12e5).toISOString(),created_at:new Date(A-12e5).toISOString()},{message_id:1005,room_name:n,sender:"Harold AI",message:"Perfect, we have all the required information. I'll contact our suppliers now and get back to you with the best offers.",package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date(A-108e4).toISOString(),created_at:new Date(A-108e4).toISOString()}],[o]:[{message_id:1101,room_name:o,sender:M,message:"Hi, need MGO for STAR EXCELLENCE at Singapore.",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-9e5).toISOString(),created_at:new Date(A-9e5).toISOString()},{message_id:1102,room_name:o,sender:M,message:"MGO 200MT\nETA: Dec 12\nIMO: 9812345",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-72e4).toISOString(),created_at:new Date(A-72e4).toISOString()},{message_id:1103,room_name:o,sender:"Harold AI",message:"Thank you. We'll get you competitive MGO quotes for Singapore shortly.",package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date(A-6e5).toISOString(),created_at:new Date(A-6e5).toISOString()}],[r]:[{message_id:1201,room_name:r,sender:T,message:"Need bunker for OCEANIC DREAM at Singapore.",package_name:"com.whatsapp",direction:"incoming",timestamp:new Date(A-72e5).toISOString(),created_at:new Date(A-72e5).toISOString()},{message_id:1202,room_name:r,sender:T,message:"VLSFO 1000MT + MGO 100MT\nETA: Dec 12\nIMO: 9778791",package_name:"com.whatsapp",direction:"incoming",timestamp:new Date(A-684e4).toISOString(),created_at:new Date(A-684e4).toISOString()},{message_id:1203,room_name:r,sender:"Harold AI",message:"Understood. We're now reaching out to our Singapore suppliers for VLSFO and MGO quotes.",package_name:"com.whatsapp",direction:"outgoing",timestamp:new Date(A-648e4).toISOString(),created_at:new Date(A-648e4).toISOString()}],[s]:[{message_id:1301,room_name:s,sender:q,message:"Need HSFO for PACIFIC FORTUNE at Ulsan.",package_name:"com.whatsapp",direction:"incoming",timestamp:new Date(A-36e5).toISOString(),created_at:new Date(A-36e5).toISOString()},{message_id:1302,room_name:s,sender:q,message:"HSFO 800MT\nETA: Dec 15\nIMO: 9454436",package_name:"com.whatsapp",direction:"incoming",timestamp:new Date(A-33e5).toISOString(),created_at:new Date(A-33e5).toISOString()},{message_id:1303,room_name:s,sender:"Harold AI",message:"Thank you. Contacting Ulsan suppliers for HSFO quotes now.",package_name:"com.whatsapp",direction:"outgoing",timestamp:new Date(A-3e6).toISOString(),created_at:new Date(A-3e6).toISOString()}],[i]:[{message_id:2001,room_name:i,sender:M,message:"Hi, we need bunker for GOLDEN WAVE at Busan.",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-144e5).toISOString(),created_at:new Date(A-144e5).toISOString()},{message_id:2002,room_name:i,sender:M,message:"VLSFO 600MT + MGO 50MT\nETA: Dec 8th\nIMO: 9704657",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-1404e4).toISOString(),created_at:new Date(A-1404e4).toISOString()},{message_id:2003,room_name:i,sender:"Harold AI",message:"Thank you for your inquiry. We will send you the best offers shortly.",package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date(A-1368e4).toISOString(),created_at:new Date(A-1368e4).toISOString()},{message_id:2004,room_name:i,sender:"Harold AI",message:"[Quote Update]\n\nWe have received 2 quotes so far:\n\n1. SunPetro Energy\n   - VLSFO: $582/MT\n   - MGO: $720/MT\n   - Earliest: Dec 8\n\n2. SeaFuel Korea (Best Price)\n   - VLSFO: $578/MT\n   - MGO: $715/MT\n   - Earliest: Dec 9\n\nWaiting for 1 more supplier. Would you like to proceed with current offers?",package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date(A-9e5).toISOString(),created_at:new Date(A-9e5).toISOString()},{message_id:2005,room_name:i,sender:M,message:"Let's wait for the third quote. When do you expect it?",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-6e5).toISOString(),created_at:new Date(A-6e5).toISOString()}],[l]:[{message_id:7001,room_name:l,sender:q,message:"Need bunker quote for NEPTUNE GLORY at Singapore.",package_name:"com.whatsapp",direction:"incoming",timestamp:new Date(A-18e6).toISOString(),created_at:new Date(A-18e6).toISOString()},{message_id:7002,room_name:l,sender:q,message:"VLSFO 1200MT\nETA: Dec 11\nIMO: 9501368",package_name:"com.whatsapp",direction:"incoming",timestamp:new Date(A-1764e4).toISOString(),created_at:new Date(A-1764e4).toISOString()},{message_id:7003,room_name:l,sender:"Harold AI",message:"Thank you. We'll reach out to our Singapore suppliers and provide quotes within the hour.",package_name:"com.whatsapp",direction:"outgoing",timestamp:new Date(A-1728e4).toISOString(),created_at:new Date(A-1728e4).toISOString()},{message_id:7004,room_name:l,sender:"Harold AI",message:"[Quotes Received]\n\nAll 3 quotes are in:\n\n1. Asia Energy: $565/MT (Earliest: Dec 11)\n2. Pacific Oil: $568/MT (Earliest: Dec 11)\n3. OceanGas: $572/MT (Earliest: Dec 10)\n\nAsia Energy offers the best price. Would you like to proceed?",package_name:"com.whatsapp",direction:"outgoing",timestamp:new Date(A-21e5).toISOString(),created_at:new Date(A-21e5).toISOString()}],[u]:[{message_id:7101,room_name:u,sender:v,message:"Hi, need bunker for ATLAS VICTORY at Yeosu.",package_name:"com.whatsapp",direction:"incoming",timestamp:new Date(A-108e5).toISOString(),created_at:new Date(A-108e5).toISOString()},{message_id:7102,room_name:u,sender:v,message:"VLSFO 900MT + LSMGO 80MT\nETA: Dec 9\nIMO: 9703318",package_name:"com.whatsapp",direction:"incoming",timestamp:new Date(A-1044e4).toISOString(),created_at:new Date(A-1044e4).toISOString()},{message_id:7103,room_name:u,sender:"Harold AI",message:"Got it. Contacting Yeosu suppliers now for VLSFO and LSMGO quotes.",package_name:"com.whatsapp",direction:"outgoing",timestamp:new Date(A-1008e4).toISOString(),created_at:new Date(A-1008e4).toISOString()},{message_id:7104,room_name:u,sender:"Harold AI",message:"[First Quote]\n\nSunPetro Energy:\n- VLSFO: $580/MT\n- LSMGO: $730/MT\n- Earliest: Dec 9\n\nWaiting for 1 more supplier.",package_name:"com.whatsapp",direction:"outgoing",timestamp:new Date(A-3e6).toISOString(),created_at:new Date(A-3e6).toISOString()}],[_]:[{message_id:7201,room_name:_,sender:D,message:"Need bunker for HORIZON STAR at Busan.",package_name:"com.wechat",direction:"incoming",timestamp:new Date(A-288e5).toISOString(),created_at:new Date(A-288e5).toISOString()},{message_id:7202,room_name:_,sender:D,message:"VLSFO 700MT\nETA: Dec 7\nIMO: 9516428",package_name:"com.wechat",direction:"incoming",timestamp:new Date(A-2844e4).toISOString(),created_at:new Date(A-2844e4).toISOString()},{message_id:7203,room_name:_,sender:"Harold AI",message:"[Final Quote Summary]\n\nAll 3 suppliers have quoted:\n\n1. SeaFuel Korea: $572/MT (Best Price, Dec 7)\n2. SunPetro: $575/MT (Dec 7)\n3. MarineOil: $577/MT (Dec 8)\n\nPlease let us know which one you'd like to proceed with.",package_name:"com.wechat",direction:"outgoing",timestamp:new Date(A-54e5).toISOString(),created_at:new Date(A-54e5).toISOString()}],[d]:[{message_id:7301,room_name:d,sender:M,message:"Need bunker for CRYSTAL QUEEN at Singapore.",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-36e6).toISOString(),created_at:new Date(A-36e6).toISOString()},{message_id:7302,room_name:d,sender:M,message:"VLSFO 1500MT + MGO 150MT\nETA: Dec 14\nIMO: 9806079",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-3528e4).toISOString(),created_at:new Date(A-3528e4).toISOString()},{message_id:7303,room_name:d,sender:"Harold AI",message:"[Quote Comparison]\n\n1. Asia Energy (Best):\n   - VLSFO: $560/MT\n   - MGO: $705/MT\n   - Earliest: Dec 14\n\n2. OceanGas:\n   - VLSFO: $567/MT\n   - MGO: $712/MT\n   - Earliest: Dec 13\n\nAsia Energy offers the best overall price. Please confirm to proceed.",package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date(A-9e6).toISOString(),created_at:new Date(A-9e6).toISOString()}],[c]:[{message_id:5001,room_name:c,sender:T,message:"We need bunker for VOYAGER SPIRIT at Busan port.",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-432e5).toISOString(),created_at:new Date(A-432e5).toISOString()},{message_id:5002,room_name:c,sender:T,message:"VLSFO 1100MT needed.\nDecember 6th arrival.\nTarget price: under $570",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-414e5).toISOString(),created_at:new Date(A-414e5).toISOString()},{message_id:5003,room_name:c,sender:"Harold AI",message:"Understood. We'll get you the best price available.",package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date(A-396e5).toISOString(),created_at:new Date(A-396e5).toISOString()},{message_id:5004,room_name:c,sender:"Harold AI",message:"[Quote Summary]\n\nSeaFuel Korea: $568/MT (Earliest: Dec 6)\nSunPetro Energy: $570/MT (Earliest: Dec 6)\n\nSeaFuel Korea meets your target price of under $570.\nWould you like to proceed?",package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date(A-108e5).toISOString(),created_at:new Date(A-108e5).toISOString()},{message_id:5005,room_name:c,sender:T,message:"Can you check if SeaFuel can do $565? With 1100MT volume they should give better price.",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date(A-72e5).toISOString(),created_at:new Date(A-72e5).toISOString()},{message_id:5006,room_name:c,sender:"Harold AI",message:"I'll contact SeaFuel Korea to negotiate for $565/MT. Will update you shortly.",package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date(A-54e5).toISOString(),created_at:new Date(A-54e5).toISOString()}],[m]:[{message_id:3e3,room_name:m,sender:"Harold AI",message:"[Inquiry Request]\nVessel: PACIFIC FORTUNE (IMO: 9454436)\nPort: Ulsan\nFuel: HSFO 800MT\nETA: 2025-12-15\n\nPlease provide your best quote.",package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date(A-36e5).toISOString(),created_at:new Date(A-36e5).toISOString()},{message_id:3000.1,room_name:m,sender:h,message:"[Quote]\nHSFO: $720/MT\nBarge Fee: $1,200\nEarliest: Dec 8th\nTerm: 30 days",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date(A-108e5).toISOString(),created_at:new Date(A-108e5).toISOString()},{message_id:3001,room_name:m,sender:"Harold AI",message:"[Inquiry Request]\nVessel: GOLDEN WAVE (IMO: 9704657)\nPort: Busan\nFuel: VLSFO 600MT + MGO 50MT\nETA: 2025-12-08\n\nPlease provide your best quote.",package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date(A-126e5).toISOString(),created_at:new Date(A-126e5).toISOString()},{message_id:3002,room_name:m,sender:h,message:"Received. Let me check availability.",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date(A-108e5).toISOString(),created_at:new Date(A-108e5).toISOString()},{message_id:3003,room_name:m,sender:h,message:"[Quote]\nVLSFO: $582/MT\nMGO: $720/MT\nBarge Fee: $800\nEarliest: Dec 8th\nTerm: 30 days",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date(A-36e5).toISOString(),created_at:new Date(A-36e5).toISOString()},{message_id:3004,room_name:m,sender:"Harold AI",message:"Thank you for the quote. We'll get back to you with the customer's decision.",package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date(A-33e5).toISOString(),created_at:new Date(A-33e5).toISOString()}],[g]:[{message_id:4001,room_name:g,sender:"Harold AI",message:"[Inquiry Request]\nVessel: GOLDEN WAVE (IMO: 9704657)\nPort: Busan\nFuel: VLSFO 600MT + MGO 50MT\nETA: 2025-12-08\n\nPlease provide your best quote.",package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date(A-126e5).toISOString(),created_at:new Date(A-126e5).toISOString()},{message_id:4002,room_name:g,sender:$,message:"Checking stock and pricing. One moment please.",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date(A-9e6).toISOString(),created_at:new Date(A-9e6).toISOString()},{message_id:4003,room_name:g,sender:$,message:"[Quote]\nVLSFO: $578/MT\nMGO: $715/MT\nBarge Fee: $14,500\nEarliest: Dec 9th\nTerm: 30 days",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date(A-6e5).toISOString(),created_at:new Date(A-6e5).toISOString()},{message_id:4004,room_name:g,sender:"Harold AI",message:"Great pricing! I'll present this to the customer.",package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date(A-48e4).toISOString(),created_at:new Date(A-48e4).toISOString()}],[p]:[{message_id:6001,room_name:p,sender:"Harold AI",message:"[Inquiry Request]\nVessel: GOLDEN WAVE (IMO: 9704657)\nPort: Busan\nFuel: VLSFO 600MT + MGO 50MT\nETA: 2025-12-08\n\nPlease provide your best quote.",package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date(A-126e5).toISOString(),created_at:new Date(A-126e5).toISOString()},{message_id:6002,room_name:p,sender:E,message:"Noted. Will check and revert.",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date(A-108e5).toISOString(),created_at:new Date(A-108e5).toISOString()}],[S]:[{message_id:6001,room_name:S,sender:"Harold AI",message:"[Inquiry Request]\nVessel: PACIFIC FORTUNE (IMO: 9454436)\nPort: Ulsan\nFuel: HSFO 800MT\nETA: 2025-12-15\n\nPlease provide your best quote.",package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date(A-36e5).toISOString(),created_at:new Date(A-36e5).toISOString()},{message_id:6002,room_name:S,sender:E,message:"Received. Let me check availability.",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date(A-3e6).toISOString(),created_at:new Date(A-3e6).toISOString()},{message_id:6003,room_name:S,sender:E,message:"[Quote]\nHSFO: $582/MT\nBarge Fee: $800\nEarliest: Dec 8th\nTerm: 30 days",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date(A-21e5).toISOString(),created_at:new Date(A-21e5).toISOString()},{message_id:6101,room_name:S,sender:"Harold AI",message:"[Inquiry Request]\nVessel: BLUE HORIZON (IMO: 9674671)\nPort: Ulsan\nFuel: HSFO 500MT + LSMGO 40MT\nETA: 2025-12-05\n\nPlease provide your best quote.",package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date(A-504e5).toISOString(),created_at:new Date(A-504e5).toISOString()},{message_id:6102,room_name:S,sender:E,message:"[Quote]\nHSFO: $485/MT\nLSMGO: $725/MT\nBarge Fee: $450\nEarliest: Dec 5th\nTerm: 30 days",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date(A-36e5).toISOString(),created_at:new Date(A-36e5).toISOString()}],[w]:[{message_id:8001,room_name:w,sender:"Harold AI",message:"[Inquiry]\nVessel: NEPTUNE GLORY\nPort: Singapore\nFuel: VLSFO 1200MT\nETA: Dec 11\n\nKindly quote.",package_name:"com.wechat",direction:"outgoing",timestamp:new Date(A-162e5).toISOString(),created_at:new Date(A-162e5).toISOString()},{message_id:8002,room_name:w,sender:b,message:"OK, checking now.",package_name:"com.wechat",direction:"incoming",timestamp:new Date(A-144e5).toISOString(),created_at:new Date(A-144e5).toISOString()},{message_id:8003,room_name:w,sender:b,message:"[Quote]\nVLSFO: $565/MT\nBarge: $18,000\nEarliest: Dec 11\nPayment: 15 days",package_name:"com.wechat",direction:"incoming",timestamp:new Date(A-72e5).toISOString(),created_at:new Date(A-72e5).toISOString()}],[O]:[{message_id:8101,room_name:O,sender:"Harold AI",message:"[Inquiry]\nVessel: NEPTUNE GLORY\nPort: Singapore\nFuel: VLSFO 1200MT\nETA: Dec 11\n\nPlease quote.",package_name:"com.whatsapp",direction:"outgoing",timestamp:new Date(A-162e5).toISOString(),created_at:new Date(A-162e5).toISOString()},{message_id:8102,room_name:O,sender:b,message:"[Quote]\nVLSFO: $572/MT\nBarge: $16,000\nEarliest: Dec 10\nPayment: 30 days",package_name:"com.whatsapp",direction:"incoming",timestamp:new Date(A-18e5).toISOString(),created_at:new Date(A-18e5).toISOString()}],[f]:[{message_id:8201,room_name:f,sender:"Harold AI",message:"[Inquiry]\nVessel: NEPTUNE GLORY\nPort: Singapore\nFuel: VLSFO 1200MT\nETA: Dec 11\n\nPlease quote.",package_name:"com.wechat",direction:"outgoing",timestamp:new Date(A-162e5).toISOString(),created_at:new Date(A-162e5).toISOString()},{message_id:8202,room_name:f,sender:b,message:"[Quote]\nVLSFO: $568/MT\nBarge: $17,500\nEarliest: Dec 11\nPayment: 15 days",package_name:"com.wechat",direction:"incoming",timestamp:new Date(A-36e5).toISOString(),created_at:new Date(A-36e5).toISOString()}]},R={"mock-001":[{id:101,room_name:n,sender:D,message:"IMO number is 9811000. Thanks.",category:"inquiry",confidence:.95,suggestions:[{option:1,action:"send_to_suppliers",targets:[m,g,p],message:`BLUE PIONEER (IMO: 9811000)
Busan
2025-12-10
VLSFO 500MT

상기 건 얼리 및 가격 확인 부탁드립니다. 감사합니다!`,reason:"FullContext is complete. Ready to send inquiry to suppliers."}],original_message:{room_name:n,sender:D,message:"IMO number is 9811000. Thanks.",created_at:new Date(A-12e5).toISOString()},trading_context:{vessel_name:y,imo:"9811000",port:"Busan",delivery_date:"2025-12-10",eta:"2025-12-10",fuel_type:"VLSFO",quantity:"500MT",fuel_type2:null,quantity2:null},status:"pending",rejection_reason:null,created_at:new Date(A-3e5).toISOString()}],"mock-005":[{id:102,room_name:g,sender:$,message:"[Quote]\nVLSFO: $578/MT\nMGO: $715/MT",category:"quote",confidence:.92,suggestions:[{option:1,action:"reply_to_customer",targets:[i],message:`[Quote Comparison]

${m}:
- VLSFO: $582/MT
- MGO: $720/MT
- Earliest: Dec 8

${g} (Best Price):
- VLSFO: $578/MT
- MGO: $715/MT
- Earliest: Dec 9

${g} is $4/MT cheaper. Would you like to proceed?`,reason:"Present quote comparison to customer with recommendation."}],original_message:{room_name:g,sender:$,message:"[Quote]\nVLSFO: $578/MT\nMGO: $715/MT",created_at:new Date(A-6e5).toISOString()},trading_context:{vessel_name:I,imo:"9704657",port:"Busan",delivery_date:"2025-12-08",eta:"2025-12-08",fuel_type:"VLSFO",quantity:"600MT",fuel_type2:"MGO",quantity2:"50MT"},status:"pending",rejection_reason:null,created_at:new Date(A-48e4).toISOString()}],"mock-010":[{id:103,room_name:c,sender:T,message:"Can you check if SeaFuel can do $565?",category:"negotiation",confidence:.88,suggestions:[{option:1,action:"send_to_suppliers",targets:[g],message:"Customer is requesting $565/MT for 1100MT volume.\nCan you match this price? This is a high-volume order with potential for repeat business.",reason:"Send counter-offer to SeaFuel Korea."}],original_message:{room_name:c,sender:T,message:"Can you check if SeaFuel can do $565? With 1100MT volume they should give better price.",created_at:new Date(A-72e5).toISOString()},trading_context:{vessel_name:k,imo:"9863297",port:"Busan",delivery_date:"2025-12-06",eta:"2025-12-06",fuel_type:"VLSFO",quantity:"1100MT",fuel_type2:null,quantity2:null},status:"pending",rejection_reason:null,created_at:new Date(A-18e5).toISOString()}]},N={overall:{total_deals:45,active_deals:8,quoted_deals:2,negotiating_deals:2,successful_deals:38,failed_deals:5,cancelled_deals:0,success_rate:84,avg_response_time_minutes:42,avg_deal_duration_minutes:480,total_revenue:1525e4,today_revenue:856e3},by_port:[{port:"Busan",total_deals:18,successful_deals:15,total_revenue:65e5,avg_deal_value:433333,avg_duration_minutes:420},{port:"Singapore",total_deals:12,successful_deals:10,total_revenue:48e5,avg_deal_value:48e4,avg_duration_minutes:510},{port:"Ulsan",total_deals:8,successful_deals:7,total_revenue:22e5,avg_deal_value:314286,avg_duration_minutes:380},{port:"Yeosu",total_deals:5,successful_deals:4,total_revenue:135e4,avg_deal_value:337500,avg_duration_minutes:440},{port:"Gwangyang",total_deals:2,successful_deals:2,total_revenue:4e5,avg_deal_value:2e5,avg_duration_minutes:360}],by_trader:[{trader:m,total_deals:15,total_revenue:52e5,avg_deal_value:346667,avg_negotiation_rounds:.8,fastest_response:"25min",avg_response_minutes:38},{trader:g,total_deals:12,total_revenue:41e5,avg_deal_value:341667,avg_negotiation_rounds:.5,fastest_response:"18min",avg_response_minutes:32},{trader:p,total_deals:8,total_revenue:26e5,avg_deal_value:325e3,avg_negotiation_rounds:.6,fastest_response:"30min",avg_response_minutes:45},{trader:S,total_deals:6,total_revenue:18e5,avg_deal_value:3e5,avg_negotiation_rounds:.3,fastest_response:"22min",avg_response_minutes:40},{trader:w,total_deals:4,total_revenue:155e4,avg_deal_value:387500,avg_negotiation_rounds:.2,fastest_response:"35min",avg_response_minutes:55}],daily_trend:[{date:"2025-11-28",total_deals:5,successful_deals:4,failed_deals:1,revenue:185e4},{date:"2025-11-29",total_deals:7,successful_deals:6,failed_deals:1,revenue:22e5},{date:"2025-11-30",total_deals:6,successful_deals:5,failed_deals:1,revenue:195e4},{date:"2025-12-01",total_deals:8,successful_deals:7,failed_deals:1,revenue:265e4},{date:"2025-12-02",total_deals:6,successful_deals:6,failed_deals:0,revenue:21e5},{date:"2025-12-03",total_deals:7,successful_deals:6,failed_deals:1,revenue:235e4},{date:"2025-12-04",total_deals:6,successful_deals:4,failed_deals:0,revenue:215e4}]};var P=e.i(64566);let V=(0,a.createContext)(null);function H(){let e=(0,a.useContext)(V);if(!e)throw Error("useMockContext must be used within MockProvider");return e}function x({children:e}){let l=(0,P.default)(e=>e.setSellerContexts),[u,_]=(0,a.useState)([...F].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())),[d]=(0,a.useState)(L),[c,m]=(0,a.useState)(C),[g,p]=(0,a.useState)(R),[S]=(0,a.useState)(N),[O,w]=(0,a.useState)(!1),f=(0,a.useRef)("default");(0,a.useEffect)(()=>{let e=setTimeout(()=>{w(!0)},500);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{let e=window.fetch,t=async(t,a)=>{let n="string"==typeof t?t:t instanceof URL?t.toString():t.url;if(n.includes("_rsc=")||n.includes("__next")||n.includes(".txt?"))return e(t,a);if(console.log("[MockProvider] Fetch intercepted:",n,"method:",a?.method),n.includes("/chats/rooms"))return new Response(JSON.stringify({rooms:d.map(e=>({room_name:e.room_name,platform:e.platform}))}),{status:200,headers:{"Content-Type":"application/json"}});let o=n.match(/\/chats\/([^/]+)\/messages/);if(o){let e=c[decodeURIComponent(o[1])]||[];return new Response(JSON.stringify({data:e,total:e.length,page:1,limit:100}),{status:200,headers:{"Content-Type":"application/json"}})}if(n.includes("/mark-read"))return new Response(JSON.stringify({success:!0}),{status:200,headers:{"Content-Type":"application/json"}});if(n.includes("/messages/send")&&a?.method==="POST")try{let{room_name:e,message:t,platform:n}=JSON.parse(a.body),o={message_id:Date.now(),room_name:e,sender:"Harold AI",message:t,package_name:"kakao"===n?"com.kakao.talk":"kakao_biz"===n?"com.kakao.yellowid":"com.kakao.talk",direction:"outgoing",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};return m(t=>({...t,[e]:[o,...t[e]||[]]})),new Response(JSON.stringify({success:!0,message_id:o.message_id}),{status:200,headers:{"Content-Type":"application/json"}})}catch{return new Response(JSON.stringify({error:"Invalid request"}),{status:400})}if(n.includes("/sessions/")&&n.includes("/fields")&&a?.method==="PATCH"||n.includes("/seller-context"))return new Response(JSON.stringify({success:!0}),{status:200,headers:{"Content-Type":"application/json"}});if(n.includes("/api/traders/all"))return new Response(JSON.stringify(d.filter(e=>"sell"===e.category).map((e,t)=>({id:`trader-${t}`,name:e.room_name,room_name:e.room_name,platform:e.platform,language:"ko"}))),{status:200,headers:{"Content-Type":"application/json"}});if(n.includes("/api/price-trends"))return new Response(JSON.stringify({fuel_types:[{fuel_type:"VLSFO",trends:[{date:"2025-09",avg_price:565,min_price:555,max_price:575,count:10},{date:"2025-10",avg_price:572,min_price:560,max_price:585,count:12},{date:"2025-11",avg_price:578,min_price:565,max_price:590,count:15},{date:"2025-12",avg_price:575,min_price:560,max_price:588,count:8}]}]}),{status:200,headers:{"Content-Type":"application/json"}});if(n.includes("/quote-history")){let e=n.match(/\/sessions\/([^/]+)\/quote-history/);if(e){let t=e[1],a=u.find(e=>e.session_id===t);if(a&&a.seller_contexts){let e=[],n=1;return Object.entries(a.seller_contexts).filter(([e,t])=>t.quote?.fuel1_price).forEach(([o,r])=>{let s=parseFloat(r.quote?.fuel1_price?.replace(/[^\d.]/g,"")||"0"),i=r.quote?.fuel2_price?parseFloat(r.quote.fuel2_price.replace(/[^\d.]/g,"")||"0"):null;e.push({id:n++,session_id:t,trader_room_name:o,fuel_type:a.fuel_type||"",quantity:parseFloat(a.quantity?.replace(/[^\d.]/g,"")||"0")||null,price:s,fuel2_price:i,price_unit:"USD/MT",barge_fee:parseFloat(r.quote?.barge_fee?.replace(/[^\d.]/g,"")||"0")||null,earliest:r.earliest||null,term:r.quote?.term||null,message:null,port:a.port||null,customer_room_name:a.customer_room_name||null,quoted_at:r.received_at||new Date().toISOString(),round:1})}),e.sort((e,t)=>new Date(e.quoted_at).getTime()-new Date(t.quoted_at).getTime()),new Response(JSON.stringify({history:e}),{status:200,headers:{"Content-Type":"application/json"}})}}return new Response(JSON.stringify({history:[]}),{status:200,headers:{"Content-Type":"application/json"}})}if(n.includes("/customers/")&&n.includes("/vessels")&&!n.includes("/history")){let e=n.match(/\/customers\/([^/]+)\/vessels/);if(e){let t=decodeURIComponent(e[1]),a=u.filter(e=>e.customer_room_name===t);return new Response(JSON.stringify({vessels:[...new Set(a.map(e=>e.vessel_name).filter(Boolean))].map(e=>({vessel_name:e,imo:a.find(t=>t.vessel_name===e)?.imo||null,inquiry_count:a.filter(t=>t.vessel_name===e).length,last_inquiry_date:a.find(t=>t.vessel_name===e)?.created_at||null}))}),{status:200,headers:{"Content-Type":"application/json"}})}}if(n.includes("/vessels/")&&n.includes("/history")){let e=n.match(/\/customers\/([^/]+)\/vessels\/([^/]+)\/history/);if(e){let t=decodeURIComponent(e[1]),a=decodeURIComponent(e[2]);return new Response(JSON.stringify({history:u.filter(e=>e.customer_room_name===t&&e.vessel_name===a).map(e=>({session_id:e.session_id,inquiry_date:e.created_at,port:e.port,eta:e.delivery_date,fuel1:e.fuel_type,fuel1_qty:e.quantity,fuel2:e.fuel_type2,fuel2_qty:e.quantity2,status:e.status,offers:Object.entries(e.seller_contexts||{}).filter(([e,t])=>t.quote?.fuel1_price).map(([e,t])=>({trader:e,price:t.quote?.fuel1_price||"",fuel1_price:t.quote?.fuel1_price||null,fuel2_price:t.quote?.fuel2_price||null,barge_fee:t.quote?.barge_fee||null,fuel1_margin:t.quote?.fuel1_margin||null,fuel2_margin:t.quote?.fuel2_margin||null})),purchase_prices:[],deal_done_price:e.final_price,selected_trader:e.selected_trader,margin_per_ton:Object.entries(e.seller_contexts||{}).filter(([e,t])=>t.quote?.fuel1_margin).map(([e,t])=>({trader:e,fuel1_margin:t.quote?.fuel1_margin,fuel2_margin:t.quote?.fuel2_margin}))}))}),{status:200,headers:{"Content-Type":"application/json"}})}}if(n.includes("/ai-suggestions/approve")&&a?.method==="POST")try{let{selected_targets:e,modified_message:t}=JSON.parse(a.body),o=new URL(n).searchParams.get("suggestion_id"),r=o?parseInt(o):null,s=Object.values(e||{}).flat();console.log("[MockProvider] AI Approve:",{suggestion_id:r,targetRooms:s,modified_message:t});let i=Object.values(g).flat(),l=r?i.find(e=>e.id===r):null,d=l?.room_name,c=d?u.find(e=>e.customer_room_name===d):null,p=c?.session_id;console.log("[MockProvider] Found:",{suggestion:l,roomName:d,deal:c,sessionId:p});let S=new Response(JSON.stringify({success:!0}),{status:200,headers:{"Content-Type":"application/json"}});return p&&_(e=>e.map(e=>{if(e.session_id===p){let t={...e.seller_contexts};return s.forEach(e=>{t[e]||(t[e]={status:"waiting_quote",quote:null,requested_at:new Date().toISOString(),contacted_at:new Date().toISOString()})}),{...e,seller_contexts:t,requested_traders:[...new Set([...e.requested_traders||[],...s])],stage:"deal_started"}}return e})),s.forEach((e,a)=>{setTimeout(()=>{let n={message_id:Date.now()+a,room_name:e,sender:"Harold AI",message:t||"[Inquiry Request] Please provide your best quote.",package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(t=>({...t,[e]:[n,...t[e]||[]]})),setTimeout(()=>{let t={message_id:Date.now()+a+1e3,room_name:e,sender:e,message:"Received. Let me check availability and get back to you shortly.",package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(a=>{let n=a[e]||[];return{...a,[e]:[n[0],t,...n.slice(1)]}})},5e3+5e3*Math.random())},500*a)}),S}catch{return new Response(JSON.stringify({success:!0}),{status:200,headers:{"Content-Type":"application/json"}})}if(n.includes("/api/outgoing/send")&&a?.method==="POST")try{let{room_name:e,message:t,package_name:n,session_id:o}=JSON.parse(a.body);if(console.log("[MockProvider] Outgoing send:",{room_name:e,session_id:o,msgText:t}),o){let t=null;_(a=>a.map(a=>{if(a.session_id===o){let n={...a.seller_contexts};n[e]?n[e].contacted_at||(n[e].contacted_at=new Date().toISOString()):n[e]={status:"waiting_quote",quote:null,requested_at:new Date().toISOString(),contacted_at:new Date().toISOString()};let o={...a,seller_contexts:n,requested_traders:[...new Set([...a.requested_traders||[],e])],stage:"deal_started"};return t=n,console.log("[MockProvider] Updated deal:",o.session_id,"new seller_contexts keys:",Object.keys(o.seller_contexts)),o}return a})),t&&(l(o,t),console.log("[MockProvider] Updated Deal Store seller_contexts for session:",o))}let r={message_id:Date.now(),room_name:e,sender:"Harold AI",message:t,package_name:n||"com.kakao.talk",direction:"outgoing",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(t=>({...t,[e]:[r,...t[e]||[]]}));let s=new Response(JSON.stringify({success:!0}),{status:200,headers:{"Content-Type":"application/json"}});return setTimeout(()=>{let a=t.toLowerCase(),o="Received. Let me check and get back to you shortly.",r=null,s=null;if(a.includes("가격")||a.includes("price")){let e=565+Math.floor(25*Math.random());o=`$${e}/MT`,r="fuel1_price",s=`$${e}/MT`}else if(a.includes("바지피")||a.includes("barge")){let e=12e3+Math.floor(5e3*Math.random());o=`$${e}`,r="barge_fee",s=`$${e}`}else if(a.includes("얼리")||a.includes("earliest")){let e=new Date,t=new Date(e.getTime()+(2+Math.floor(3*Math.random()))*864e5).toISOString().split("T")[0];o=t,r="earliest",s=t}else if(a.includes("서플")||a.includes("supplier")){let e=["Hyundai Oilbank","SK Energy","S-Oil","GS Caltex"],t=e[Math.floor(Math.random()*e.length)];o=t,r="supplier",s=t}else if(a.includes("텀")||a.includes("term")||a.includes("payment")){let e=["30 days","45 days","60 days","Cash"],t=e[Math.floor(Math.random()*e.length)];o=t,r="term",s=t}let i={message_id:Date.now()+1,room_name:e,sender:e,message:o,package_name:n||"com.kakao.talk",direction:"incoming",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(t=>{let a=t[e]||[];return{...t,[e]:[i,...a||[]]}}),r&&s&&_(t=>t.map(t=>{if(t.seller_contexts&&t.seller_contexts[e]){let a={...t.seller_contexts[e],quote:{...t.seller_contexts[e].quote,[r]:s}};"earliest"===r&&(a.earliest=s);let n={...t.seller_contexts,[e]:a};return l(t.session_id,n),{...t,seller_contexts:n}}return t}))},3e3+4e3*Math.random()),s}catch{return new Response(JSON.stringify({error:"Invalid request"}),{status:400})}if(n.includes("/api/reminder/send")&&a?.method==="POST")try{let{session_id:e,trader_room_name:t,language:n}=JSON.parse(a.body),o=new Response(JSON.stringify({success:!0}),{status:200,headers:{"Content-Type":"application/json"}});return setTimeout(()=>{let e={message_id:Date.now(),room_name:t,sender:t,message:"en"===n?"Received. Let me check availability.":"확인했습니다. 가용성 확인해보겠습니다.",package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(a=>({...a,[t]:[e,...a[t]||[]]}))},2e3+1e3*Math.random()),o}catch{return new Response(JSON.stringify({success:!0}),{status:200,headers:{"Content-Type":"application/json"}})}if(n.includes("/api/quick-replies")&&!n.includes("/send"))return new Response(JSON.stringify({templates:[{id:1,template_text:"잠깐만요",category:"default",sort_order:1},{id:2,template_text:"네 감사합니다",category:"default",sort_order:2},{id:3,template_text:"Rvt",category:"default",sort_order:3},{id:4,template_text:"Rvt Shortly",category:"default",sort_order:4}]}),{status:200,headers:{"Content-Type":"application/json"}});if(n.includes("/api/quick-replies/send")&&a?.method==="POST")try{let{room_name:e,template_text:t}=JSON.parse(a.body),n={message_id:Date.now(),room_name:e,sender:"Harold AI",message:t,package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};return m(t=>({...t,[e]:[n,...t[e]||[]]})),new Response(JSON.stringify({success:!0,message_id:n.message_id}),{status:200,headers:{"Content-Type":"application/json"}})}catch{return new Response(JSON.stringify({success:!0}),{status:200,headers:{"Content-Type":"application/json"}})}try{return await e(t,a)}catch{return new Response(JSON.stringify({}),{status:200,headers:{"Content-Type":"application/json"}})}};return window.fetch=t,()=>{window.fetch=e}},[d,c,u,g,S]);let y=(0,a.useRef)(new Set);(0,a.useEffect)(()=>{let e=window.EventSource;class t{url;readyState=0;onopen=null;onerror=null;onmessage=null;listeners=new Map;constructor(e){this.url=e,console.log("[MockProvider] EventSource created for:",e),setTimeout(()=>{this.readyState=1,this.onopen&&this.onopen(new Event("open")),this.dispatchEvent("initial_data",{deals:u}),console.log("[MockProvider] SSE initial_data sent with",u.length,"deals");let e=e=>{this.dispatchEvent("deal_update",{deals:e}),console.log("[MockProvider] SSE deal_update sent with",e.length,"deals")};y.current.add(e)},100)}addEventListener(e,t){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t)}removeEventListener(e,t){this.listeners.get(e)?.delete(t)}dispatchEvent(e,t){let a=new MessageEvent(e,{data:JSON.stringify(t)}),n=this.listeners.get(e);return n&&n.forEach(e=>e(a)),!0}close(){this.readyState=2,console.log("[MockProvider] EventSource closed")}}return window.EventSource=t,()=>{window.EventSource=e,y.current.clear()}},[]),(0,a.useEffect)(()=>{y.current.size>0&&(console.log("[MockProvider] Deals changed, notifying",y.current.size,"SSE listeners"),y.current.forEach(e=>{e(u)}))},[u]),(0,a.useEffect)(()=>{"Notification"in window&&(f.current=Notification.permission)},[]);let I=(0,a.useCallback)((e,t)=>{_(a=>a.map(a=>a.session_id===e?{...a,status:t,updated_at:new Date().toISOString()}:a))},[]),k=(0,a.useCallback)((e,t)=>{_(a=>a.map(a=>a.session_id===e?{...a,stage:t,updated_at:new Date().toISOString()}:a))},[]),D=(0,a.useCallback)(async e=>(await new Promise(e=>setTimeout(e,500)),_(t=>t.filter(t=>t.session_id!==e)),!0),[]),M=(0,a.useCallback)(e=>u.find(t=>t.session_id===e),[u]),T=(0,a.useCallback)(async(e,t,a)=>{await new Promise(e=>setTimeout(e,1e3));let n={message_id:Date.now(),room_name:e,sender:"Harold AI",message:t,package_name:a||"com.kakao.talk",direction:"outgoing",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(t=>({...t,[e]:[...t[e]||[],n]}))},[]),q=(0,a.useCallback)(e=>c[e]||[],[c]),v=(0,a.useCallback)(e=>{_(t=>t.map(t=>t.customer_room_name===e?{...t,buyer_unread_count:0,seller_unread_count:0,unread_count:0}:t.seller_contexts&&t.seller_contexts[e]?{...t,seller_unread_count:Math.max(0,(t.seller_unread_count||0)-1),unread_count:Math.max(0,(t.unread_count||0)-1)}:t))},[]),h=(0,a.useCallback)(async(e,t)=>{await new Promise(e=>setTimeout(e,1500)),p(a=>{let n={...a};for(let a in n)n[a]=n[a].map(a=>a.id===e?(t.forEach(e=>{let t=a.suggestions.find(t=>t.option===e);t&&("send_to_suppliers"===t.action&&Array.isArray(t.targets)?t.targets.forEach(e=>{let a={message_id:Date.now()+Math.random(),room_name:e,sender:"Harold AI",message:t.message,package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(t=>({...t,[e]:[...t[e]||[],a]}))}):"reply_to_customer"===t.action&&Array.isArray(t.targets)?t.targets.forEach(e=>{let a={message_id:Date.now()+Math.random(),room_name:e,sender:"Harold AI",message:t.message,package_name:"com.kakao.talk",direction:"outgoing",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(t=>({...t,[e]:[...t[e]||[],a]}))}):"send_multiple"===t.action&&t.targets.forEach(e=>{let t={message_id:Date.now()+Math.random(),room_name:e.room,sender:"Harold AI",message:e.message,package_name:"com.kakao.yellowid",direction:"outgoing",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(a=>({...a,[e.room]:[...a[e.room]||[],t]}))}))}),{...a,status:"approved"}):a);return n})},[]),$=(0,a.useCallback)(async(e,t)=>{await new Promise(e=>setTimeout(e,500)),p(a=>{let n={...a};for(let a in n)n[a]=n[a].map(a=>a.id===e?{...a,status:"rejected",rejection_reason:t||null}:a);return n})},[]),E=(0,a.useCallback)(e=>g[e]||[],[g]),b=(0,a.useCallback)((e,t)=>{"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/harold-mockup/SP_logo.png",tag:"harold-demo"})},[]),A=(0,a.useCallback)(()=>{let e,t,a,l,u,d,c,g,p,S=(e=["OCEAN EXPLORER","SEA VOYAGER","MARINE SPIRIT","WAVE RIDER","PACIFIC DREAM"],t=[n,o,r,s,i],a=["Busan","Singapore","Ulsan","Yeosu","Hong Kong"],l=["VLSFO","HSFO","MGO","LSMGO"],u=e[Math.floor(Math.random()*e.length)],d=t[Math.floor(Math.random()*t.length)],c=a[Math.floor(Math.random()*a.length)],g=l[Math.floor(Math.random()*l.length)],p=(Math.floor(15*Math.random())+3)*100,{id:Date.now(),session_id:`mock-new-${Date.now()}`,customer_room_name:d,vessel_name:u,imo:`98${Math.floor(9e4*Math.random())+1e4}`,port:c,fuel_type:g,quantity:`${p}MT`,fuel_type2:null,quantity2:null,delivery_date:"2025-12-15",status:"active",stage:"inquiry",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),closed_at:null,final_price:null,selected_trader:null,closing_reason:null,total_quotes_received:0,negotiation_rounds:0,duration_minutes:0,response_time_minutes:null,quote_count:0,last_quote_time:null,requested_traders:[],seller_contexts:{},unread_count:1,buyer_unread_count:1,seller_unread_count:0});_(e=>[S,...e]);let O=S.customer_room_name,w={message_id:Date.now(),room_name:O,sender:"Customer",message:`안녕하세요, ${S.vessel_name} 선박 급유 문의드립니다.
${S.port}에서 ${S.fuel_type} ${S.quantity} 필요합니다.`,package_name:"com.kakao.talk",direction:"incoming",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(e=>({...e,[O]:[...e[O]||[],w]})),b("New Inquiry",`${S.vessel_name} - ${S.port}`)},[b]),H=(0,a.useCallback)(e=>{let t=function(e,t=!0){let a=t?["Please send me the quote details.","What's the status of our inquiry?","Thanks, I'll review and get back to you.","Can you get a better price?","Need a quick response please."]:["I'll check and get back to you shortly.","Compiling quotes now, will update soon.","Message delivered to customer.","Working on it, please wait."],n=a[Math.floor(Math.random()*a.length)];return{message_id:Date.now(),room_name:e,sender:t?"Customer":"Harold AI",message:n,package_name:"com.kakao.talk",direction:t?"incoming":"outgoing",timestamp:new Date().toISOString(),created_at:new Date().toISOString()}}(e,!0);m(a=>({...a,[e]:[...a[e]||[],t]})),_(t=>t.map(t=>t.customer_room_name===e?{...t,buyer_unread_count:(t.buyer_unread_count||0)+1,unread_count:(t.unread_count||0)+1}:t)),b("New Message",`${e}: ${t.message}`)},[b]),x=(0,a.useCallback)((e,t)=>{let a=u.find(t=>t.session_id===e);if(!a)return;let n=560+Math.floor(30*Math.random()),o=12e3+Math.floor(5e3*Math.random()),r=`[견적서]
VLSFO: $${n}/MT
Barge Fee: $${o}
Earliest: ${a.delivery_date}
Term: 30 days

정유사: ${t}`,s={message_id:Date.now(),room_name:t,sender:`${t} Trader`,message:r,package_name:"com.kakao.yellowid",direction:"incoming",timestamp:new Date().toISOString(),created_at:new Date().toISOString()};m(e=>({...e,[t]:[...e[t]||[],s]})),_(r=>r.map(r=>{if(r.session_id===e){let e=r.seller_contexts?.[t],s=!e||!e.quote,i={...r.seller_contexts,[t]:{status:"quote_received",quote:{fuel1_price:`$${n}/MT`,barge_fee:`$${o}`,term:"30 days",supplier:t},earliest:a.delivery_date,received_at:new Date().toISOString()}};return{...r,seller_contexts:i,total_quotes_received:s?r.total_quotes_received+1:r.total_quotes_received,quote_count:(r.quote_count||0)+1,negotiation_rounds:(r.negotiation_rounds||0)+1,last_quote_time:new Date().toISOString(),seller_unread_count:(r.seller_unread_count||0)+1,unread_count:(r.unread_count||0)+1}}return r})),b("Quote Received",`${t}: $${n}/MT`)},[u,b]),G=(0,a.useCallback)(()=>{_(F),m(C),p(R)},[]);return(0,t.jsx)(V.Provider,{value:{deals:u,chatRooms:d,messages:c,aiSuggestions:g,statistics:S,isConnected:O,isMockupMode:!0,updateDealStatus:I,updateDealStage:k,deleteDeal:D,getDealById:M,sendMessage:T,getMessagesForRoom:q,markRoomAsRead:v,approveSuggestion:h,rejectSuggestion:$,getSuggestionsForSession:E,triggerNewInquiry:A,triggerNewMessage:H,triggerQuoteReceived:x,resetToInitial:G,showNotification:b},children:e})}e.s(["MockProvider",()=>x,"useMockContext",()=>H],9658)}]);